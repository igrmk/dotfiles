let mapleader=' '

set visualbell
set keep-english-in-normal
set scrolloff=6
set clipboard+=unnamed,unnamedplus

sethandler <c-2> a:ide
sethandler <c-s-2> a:ide
sethandler <c-6> a:ide
sethandler <c-s-6> a:ide

sethandler <c-c> a:vim
sethandler <c-v> a:vim
sethandler <c-o> a:vim
sethandler <c-a> a:vim
sethandler <c-b> a:vim
sethandler <c-d> a:vim
sethandler <c-e> a:vim
sethandler <c-f> a:vim
sethandler <c-u> a:vim
sethandler <c-x> a:ide
sethandler <c-y> a:vim
sethandler <c-g> a:vim
sethandler <c-h> a:vim
sethandler <c-i> a:vim
sethandler <c-l> a:vim
sethandler <c-m> a:vim
sethandler <c-n> a:vim
sethandler <c-p> a:vim
sethandler <c-q> a:vim
sethandler <c-r> a:vim
sethandler <c-s> a:vim
sethandler <c-t> a:vim
sethandler <c-w> a:vim
sethandler <c-[> a:vim
sethandler <c-\> a:vim
sethandler <c-]> a:vim
sethandler <c-;> a:vim
sethandler <c-s-;> a:vim
sethandler <c-z> a:vim

Plug 'preservim/nerdtree'
Plug 'easymotion/vim-easymotion'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-commentary'

vnoremap x "_d
map <c-o> <Action>(Back)
map <c-i> <Action>(Forward)
nmap <leader>r <Action>(RenameElement)
" It seems this action is broken. Restore the mapping once it's fixed
" nmap gd <Action>(GotoDeclarationOnly)
nmap gd <Action>(GotoDeclaration)
nmap gu <Action>(ShowUsages)
nmap gi <Action>(GotoImplementation)
nmap gh <Action>(CallHierarchy)
map <leader>= <Action>(ReformatCode)
nmap <leader>- <Action>(OptimizeImports)
nmap <leader>a <Action>(ShowIntentionActions)
nmap <leader>m <Action>(Move)
map ,v <Action>(BuildProject)
map <c-z> <Action>(ToggleDistractionFreeMode)
map q <Action>(ActivateProjectToolWindow)
nomap <leader>$ :source ~/.ideavimrc<CR>
nnoremap <Leader>mm :action ToggleBookmark<CR>
nnoremap <Leader>ml :action ShowBookmarks<CR>
nmap s <plug>(easymotion-s)
map <leader>j <plug>(easymotion-j)
map <leader>k <plug>(easymotion-k)
map [c <Action>(PreviousDiff)
map ]c <Action>(NextDiff)

nmap <leader>ds <Action>(Debug)
nmap <leader>dd <Action>(ToggleLineBreakpoint)
nmap <leader>dc <Action>(Resume)
nmap <leader>di <Action>(StepInto)
nmap <leader>dn <Action>(StepOver)
nmap <leader>do <Action>(StepOut)
nmap <leader>dl <Action>(ViewBreakpoints)
